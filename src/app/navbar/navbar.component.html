<div class="host">

  <div *ngIf="!(isProcess$ | async).active" class="static-loading" #staticLoading><div class="static-loading"></div></div>
  <ng-progress [color]="'#04CD33'" [spinner]="false" [fixed]="true" [speed]="200" [thick]="true"></ng-progress>
  <div *ngIf="showNav" class="bar">
    <div class="heading grow">
      <app-smartpass-logo></app-smartpass-logo>
    </div>
    <div *ngIf="isStaff" class="teacherNav">
      <div *ngFor="let button of buttons" class="teacherNav_tab">
        <ng-container *ngIf="isStaff">
          <app-nav-button
            [selected]="tab === button.route"
            [content]="button.title"
            [icon]="button.imgUrl"
            (onClick)="updateTab(button.route)">
          </app-nav-button>
        </ng-container>
      </div>
    </div>
    <div class="user-info">
      <div class="name" [style.color]="darkTheme.getColor({dark: '#FFFFFF', white : '#1F195E'})">{{ user?user.display_name:'' }}</div>
      <div *ngIf="user && !isStaff" class="inbox-wrapper" (click)="inboxClick()"
           [style.background-color]="(inboxVisibility?'#E4EBFF':'transparent')"
           [style.background-color]="(inboxVisibility ? darkTheme.isEnabled$.value ? '#134482' : '#E4EBFF' : 'transparent')"

      >
        <img class="inbox-icon" [src]="darkTheme.getIcon({iconName: 'Inbox', darkFill: 'White', lightFill: 'Navy'}) | resolveAsset">
        <div class="inbox-modifiers" *ngIf="(notificationBadge$ | async) > 0">
          <img class="inbox-badge" [src]="'./assets/Inbox Notification (Red).svg' | resolveAsset">
          <div class="inbox-number">{{ notificationBadge$ | async }}</div>
          <img class="inbox-front" [src]="darkTheme.getIcon({iconName: 'Inbox Bottom', darkFill: 'White', lightFill: 'Navy'}) | resolveAsset">
        </div>
      </div>
      <!--<div *ngIf="isStaff" class="support-wrapper global-opacity-icons" (click)="openSupport()">-->
      <!--<img class="support" [src]="'./assets/Support (Blue).png' | resolveAsset">-->
      <!--</div>-->
      <!--<div class="admin-view-wrapper global-opacity-icons" (click)="router.navigateByUrl('/select-profile')"  *ngIf="showSwitchButton">-->
      <!--<img class="admin-view" [src]="'./assets/Switch Account (Blue).png' | resolveAsset" alt="">-->
      <!--</div>-->
      <div
        (click)="showOptions($event)"
        class="options-wrapper global-opacity-icons"
        [style.background-color]="(isOpenSettings ? darkTheme.isEnabled$.value ? '#134482' : '#E4EBFF' : 'transparent')"
      >
        <img class="options" [src]="getIcon('Settings', 'White', 'Navy') | resolveAsset">
      </div>
    </div>
  </div>
  <div [style.display]="(isStaff && showNav)?'':'none'" class="divider"></div>
</div>
