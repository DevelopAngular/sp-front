<app-navbar></app-navbar>
<div class="main-page">
    <div *ngIf="checkedPasses" class="middle">
        <div *ngIf="!!currentPass; else newPass;" class="pass-card center">
            <app-hallpass-card class="pass-card" [hallpass]="currentPass" (onEnd)="endPass($event)"></app-hallpass-card>
        </div>
        <ng-template #newPass>
            <button mat-button class="clickRipple center new-pass" (click)="showForm()">
                <div class="card">
                    <div class="content">
                        <img class="icon" [src]="'./assets/Plus.png' | resolveAsset" alt="ICON">
                        <div class="title">
                            New Pass
                        </div>
                    </div>
                </div>
            </button>
        </ng-template>
        <div *ngIf="!!futurePasses">
            <app-hallpass-card class="pass-card" *ngFor="let hallpass of futurePasses" [hallpass]="hallpass" [future]="true"></app-hallpass-card>
        </div>
    </div>
    <div class="divider"></div>
    <div class="side">
        <div class="center top-margin">
            <app-invitation-card class="request-card" *ngFor="let invitation of invitations | async" [invitation]="invitation" (onAccept)="updateInvites()"></app-invitation-card>
        </div>
        <div class="center top-margin">
            <app-request-card class="request-card" *ngFor="let request of requests | async" [request]="request" [forTeacher]="isStaff | async"></app-request-card>
        </div>
    </div>
</div>
