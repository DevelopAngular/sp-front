<div class="passes-wrapper" *ngIf="user">
  <div class="main-page-left">
    <div class="current-pass">
      <div *ngIf="(isActivePass$ | async) || (isActiveRequest$ | async); else newPass;" class="center">
        <app-inline-request-card *ngIf="(isActiveRequest$ | async) && !(isActivePass$ | async)" [request]="currentRequest$ | async"></app-inline-request-card>
        <app-inline-pass-card *ngIf="isActivePass$ | async" [pass]="currentPass$ | async" [isActive]="true"></app-inline-pass-card>
      </div>
      <ng-template #newPass>
        <app-display-card [title]="'Create Pass'" [hasDivider]="true" [fontSize]="'15pt'" [icon]="'./assets/Create (Blue).png'">
          <div class="pass-buttons">
            <app-gradient-button
              [minWidth]="'121px'"
              [minHeight]="'74px'"
              [hoverColor]="'#00b476'"
              [fontSize]="'15px'"
              [cursor]="'pointer'"
              (click)="showForm(false)">Now
            </app-gradient-button>
            <app-gradient-button
              [minWidth]="'121px'"
              [minHeight]="'74px'"
              [hoverColor]="'#00b476'"
              [fontSize]="'15px'"
              [cursor]="'pointer'"
              (click)="showForm(true)">Future
            </app-gradient-button>
          </div>
        </app-display-card>
      </ng-template>
    </div>
    <div class="active-passes">
      <app-pass-collection *ngIf="isStaff" [isActive]="true" [forStaff]="isStaff" [style.width]="'400px'" [passProvider]="activePasses" [title]="'Active Passes'" [icon]="'./assets/Hallway (Blue).png'" [columns]="3"></app-pass-collection>
    </div>
    <div class="future-passes">
      <app-pass-collection [forFuture]="true" [forStaff]="isStaff" [style.width]="'400px'" [passProvider]="futurePasses" [title]="'Scheduled Passes'" [icon]="'./assets/Scheduled Pass (Blue).png'" [columns]="3"></app-pass-collection>
    </div>
    <div class="past-passes">
      <app-pass-collection [maxHeight]="'100%'" [emptyMessage]="'No Passes'" [fromPast]="true" [forStaff]="isStaff" [style.width]="'400px'" [passProvider]="pastPasses" [title]="'Expired Passes'" [icon]="'./assets/Expired Passes (Blue).png'" [columns]="3"></app-pass-collection>
    </div>
  </div>
  <div class="main-page-right" *ngIf="dataService.inboxState | async">
    <app-display-card [title]="'Requests'" [hasDivider]="false" [fontSize]="'22pt'" [icon]="(isStaff?'./assets/Inbox Full (Blue).png':'')" [inbox]="true">
      <div class="inbox-content">
        <div>
          <app-pass-collection [forStaff]="isStaff" [forFuture]="true" [isActive]="false" [style.width]="'258px'" [passProvider]="isStaff?receivedRequests:sentRequests" [title]="isStaff?'Received':'Sent'" [icon]="'./assets/' +(isStaff?'Request':'Lock') +' (Blue).png'" [columns]="2"></app-pass-collection>
          <!--<div *ngIf="isStaff ? (receivedRequests.length$ | async) : (sentRequests.length$ | async)" class="text">No requests sent or received</div>-->
        </div>
        <div>
          <app-pass-collection [forStaff]="isStaff" [forFuture]="true" [isActive]="false" [style.width]="'258px'" [passProvider]="isStaff?sentRequests:receivedRequests" [title]="isStaff?'Sent':'Received'" [icon]="'./assets/' +(isStaff?'Lock':'Request') +' (Blue).png'" [columns]="2"></app-pass-collection>
          <!--<div *ngIf="isStaff ? (sentRequests.length$ | async) : (receivedRequests.length$ | async)" class="text">No requests sent or received</div>-->
        </div>
        <!--<div *ngIf="">PPC</div>-->
        <!-- No pass requests -->

        <div *ngIf="inboxHasItems | async" class="text">No requests sent or received</div>
        <!--<pre>{{!(inboxHasItems | async) | json}}</pre>-->
      </div>
    </app-display-card>
  </div>
</div>
