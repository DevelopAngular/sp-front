<div
    #but
    class="button-wrapper"
    [style.background]="backgroundGradient()"
    [style.box-shadow]="boxShadow"
    [ngClass]="{'disabled': disabled}"
    [@pressState]="buttonState"
    (mouseenter)="hovered = true"
    (mouseleave)="buttonDown = false; hovered = false"

    appCrossPointerEventTarget
    (pointerClickEvent)="buttonDown = false; buttonClick()"
    (pointerDownEvent)="buttonDown = true"
    (pointerCancelEvent)="buttonDown = false"
>
  <ng-container *ngIf="passLimitInfo as info">
    <ng-container *ngIf="title === 'Now' && info.showPasses">
      <ng-template #passLimitToolTip>
        <div class="ds-tooltip" style="width: 200px">
          <span>{{info.current}}/{{info.max}} passes remaining today.</span>
          <span *ngIf="info.current === 0">You must request a pass from a teacher.</span>
        </div>
      </ng-template>

      <ng-template #noPassLimitsRemaining>
        <div
          class="pass-limit-counter pass-limit-locked">
        <span customToolTip [contentTemplate]="passLimitToolTip">
          <img src="assets/Lock%20(White).svg" style="width: 85%">
        </span>
        </div>
      </ng-template>

      <div
        *ngIf="info.current > 0; else noPassLimitsRemaining"
        [ngClass]="{
        'pass-limit-one-remaining': info.current === 1
      }"
        class="pass-limit-counter">
        <span customToolTip [contentTemplate]="passLimitToolTip">{{info.current}}</span>
      </div>
    </ng-container>

  </ng-container>
  <div class="title">{{ title }}</div>
</div>
