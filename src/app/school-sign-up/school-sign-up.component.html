<div class="host">
<!--  <app-ios-calendar (selectedEvent)="test($event)"></app-ios-calendar>-->
<!--  <app-date-time style="border: 1px solid green; border-radius: 14px" [isStaff]="true" [mock]="true"></app-date-time>-->

  <div class="moving-tiles">
    <div class="frame frame__1">
      <img [src]="'./assets/Moving Tiles/Tile 1.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 2.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 3.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 4.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 5.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 6.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 7.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 8.svg' | resolveAsset" alt="Tile.svg">
    </div>

    <div class="frame frame__2">
      <img [src]="'./assets/Moving Tiles/Tile 1.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 2.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 3.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 4.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 5.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 6.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 7.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 8.svg' | resolveAsset" alt="Tile.svg">
    </div>
    <div class="frame frame__3">
      <img [src]="'./assets/Moving Tiles/Tile 1.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 2.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 3.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 4.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 5.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 6.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 7.svg' | resolveAsset" alt="Tile.svg">
      <img [src]="'./assets/Moving Tiles/Tile 8.svg' | resolveAsset" alt="Tile.svg">
    </div>
  </div>

  <div class="background" [style.background-image]="trustedBackgroundUrl | resolveAsset"></div>

  <div class="school-signin">
    <div class="logo">

      <app-smartpass-logo [logoAsset]="'./assets/Logo (White-Gray).svg'"></app-smartpass-logo>
    </div>

    <div class="sides-container">

      <div style="flex: 1 1 auto; display: flex;" class="sides">

        <div class="left-side">

          <div>
            <div class="school-signin_big-title">
              <span>Get started</span>
              <span>with SmartPass</span>
            </div>
            <div class="school-signin_sub-title">Sign up and start using in minutes.</div>
          </div>
          <!--        <div style="text-align: center; color: #ABB4CD; font-size: 13px; max-width: 465px; margin-left: 25px; margin-top: 290px;">-->
          <!--          By proceeding to sign up your school and use SmartPass, you and your school users are agreeing to our-->
          <!--          <a class="ds-link-text" href="https://www.smartpass.app/terms"><strong>Terms of Service</strong></a> and-->
          <!--          <a class="ds-link-text" href="https://www.smartpass.app/privacy"><strong>Privacy Policy</strong></a>.-->
          <!--        </div>-->

        </div>
        <div class="right-side">

          <div class="ds-flex-start-center ds-flex-column sign-up-form">
            <div class="create-account-form">
              <div class="school-input">
                <div *ngIf="(pending$ | async)" class="loading-theme_blue-gray spinner">
                  <mat-spinner [diameter]="20" [color]="'accent'"></mat-spinner>
                </div>
                <div class="ds-w-100 school-input_field">
                  <div>
                <span class="school-input_title" [ngClass]="{'ds-navy' : school, 'ds-blue-gray': !school}">
                  School name
                </span>
                  </div>
                  <app-sp-search
                    *ngIf="!school || school && enterSchoolName"
                    [width]="'276px'"
                    [searchTarget]="'schools'"
                    [selectedOptions]="[]"
                    [chipsMode]="false"
                    [focused]="inputIndex === 0"
                    [role]="'_profile_teacher'"
                    [dummyRoleText]="'teachers'"
                    [rollUpAfterSelection]="true"
                    [cancelButton]="false"
                    [placeholder]="'Search schools'"
                    (blurEvent)="enterSchoolName = false"
                    (onUpdate)="checkSchool($event)"
                  ></app-sp-search>
                  <div class="selected-school" *ngIf="school && !enterSchoolName" (click)="enterSchoolName = true">
                    <div>
                      <img [width]="20" [height]="20" [src]="'./assets/School (Blue-Gray).svg' | resolveAsset" alt="School (Blue-Gray).svg">
                    </div>
                    <div style="overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">
                      <span> {{school.structured_formatting.main_text}}</span>
                    </div>
                  </div>
                </div>
              </div>
              <!--          <div class="ds-mt-25">-->
              <!--            <app-input-->
              <!--              [width]="'260px'"-->
              <!--              [fieldSpace]="'0px'"-->
              <!--              [height]="'35px'"-->
              <!--              [formGroup]="schoolForm"-->
              <!--              [controlName]="schoolForm.get('firstName')"-->
              <!--              [input_value]="schoolForm.get('firstName').value"-->
              <!--              [input_label]="'First name'"-->
              <!--            ></app-input>-->
              <!--          </div>-->
              <div class="ds-mt-20">
                <app-input
                  [width]="'260px'"
                  [fieldSpace]="'0px'"
                  [height]="'35px'"
                  [formGroup]="schoolForm"
                  [isFocus]="inputIndex === 1"
                  [controlName]="schoolForm.get('full_name')"
                  [input_value]="schoolForm.get('full_name').value"
                  [input_label]="'Full name'"
                ></app-input>
              </div>
              <div class="ds-mt-25">
                <app-input
                  [width]="'260px'"
                  [fieldSpace]="'0px'"
                  [height]="'35px'"
                  [formGroup]="schoolForm"
                  [isFocus]="inputIndex === 2"
                  [controlName]="schoolForm.get('email')"
                  [input_value]="schoolForm.get('email').value"
                  [input_label]="'School email'"
                ></app-input>
              </div>
              <div class="ds-mt-25">
                <app-input
                  [input_type]="'password'"
                  [width]="'260px'"
                  [fieldSpace]="'0px'"
                  [height]="'35px'"
                  [formGroup]="schoolForm"
                  [isFocus]="inputIndex === 3"
                  [controlName]="schoolForm.get('password')"
                  [input_value]="schoolForm.get('password').value"
                  [input_label]="'Password'"
                  [placeholder]="'8+ characters'"
                ></app-input>
              </div>

              <div class="ds-w-100 ds-flex-center-center ds-mt-25 ds-pt-10">
                <app-gradient-button
                  [size]="'small'"
                  [gradient]="'#FFFFFF, #00B476'"
                  [fontWeight]="'normal'"
                  [rightIcon]="'./assets/Chevron Right (White).svg'"
                  [disabled]="schoolForm.invalid"
                  (buttonClick)="createSchool()"
                >
              <span style="font-weight: normal;">
                Sign up
              </span>
                </app-gradient-button>
              </div>
            </div>

            <div class="ds-flex-center-center ds-my-15" style="color: #E32C66;" *ngIf="showError.error">
              <div style="text-align: center;">
                <span>Oops! Please make sure to you are a G Suite</span><br>
                <span><strong>administrator</strong> to be able to sync users.</span>
              </div>
            </div>

          </div>
        </div>
      </div>

      <div class="links">
        By proceeding to sign up your school and use SmartPass, you and your school users are agreeing to our
        <a class="ds-link-text" href="https://www.smartpass.app/terms"><strong>Terms of Service</strong></a> and
        <a class="ds-link-text" href="https://www.smartpass.app/privacy"><strong>Privacy Policy</strong></a>.
      </div>

    </div>
  </div>

</div>
