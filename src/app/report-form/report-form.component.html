<div class="report-form-wrapper">
  <div class="divider" [style.background-image]="'radial-gradient(circle at 73% 71%, #DA2370, #FB434A)'">

    <img class="back-button" [src]="'./assets/Back Button (White).svg' | resolveAsset" (click)="back()">

    <div *ngIf="showOptions" [@NextStep]="{ value: '', params: frameMotion$ | async}">
      <div class="divider-text-students ds-dialog-title-white"> <img class="divider-icon" [src]="'./assets/Search Eye (White).svg' | resolveAsset">Select Student(s)</div>
    </div>
    <div *ngIf="!showOptions" [@NextStep]="{ value: '', params: frameMotion$ | async}">
      <div class="divider-text-message ds-dialog-title-white"> <img class="divider-icon" [src]="'./assets/Message (White).svg' | resolveAsset">Message </div>
    </div>
  </div>
  <div style="position: relative; flex: 1 1 auto; display: flex; flex-direction: column; justify-content: space-between; background-color: white">

    <div style="display: flex; flex-direction: column; flex: 1 1 auto" *ngIf="showOptions" [@NextStep]="{ value: '', params: frameMotion$ | async}">
      <div class="student-select">
        <div class="report-content">

          <app-sp-search
            [selectedStudents]="selectedStudents"
            [showOptions]="showOptions"
            (onUpdate)="selectedStudents=$event"
            (click)="showOptions=true">
          </app-sp-search>

        </div>
        <div class="student-select_button-next" *ngIf="showOptions && selectedStudents && selectedStudents.length > 0">
          <app-gradient-button
            [gradient]="'#DA2370,#FB434A'"
            [cursor]="'pointer'"
            [hoverColor]="'#DA2370'"
            [minWidth]="'104px'"
            [minHeight]="'35px'"
            [fontSize]="'16px'"
            (buttonClick)="nextStep()"
          >Next ({{ selectedStudents.length }})</app-gradient-button>
        </div>

      </div>
    </div>

    <div style="display: flex; flex-direction: column; flex: 1 1 auto;" *ngIf="!showOptions"  [@NextStep]="{ value: '', params: frameMotion$ | async}">

      <div class="message-entry">
        <div data-grammarly-issue-container class="message-wrapper">
          <textarea class="message-box" #messageBox placeholder="Attach a message" [(ngModel)]="reportMessage">{{ reportMessage }}</textarea>
        </div>
        <app-gradient-button
          [gradient]="'#DA2370,#FB434A'"
          [cursor]="'pointer'"
          [hoverColor]="'#DA2370'"
          [minWidth]="'104px'"
          [minHeight]="'35px'"
          [fontSize]="'16px'"
          [leftIcon]="'./assets/Report (White).svg'"
          (buttonClick)="sendReport()"
        >Report Student<span *ngIf="selectedStudents.length > 1">s</span></app-gradient-button>
      </div>
    </div>
  </div>
</div>
