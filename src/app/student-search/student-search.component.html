<div class="wrapper">
  <div class="container">
    <div class="header">
      <div class="close" *ngIf="isFocus">
        <img [src]="'./assets/Arrow Left (Blue-Gray).svg'" alt="arrow">
      </div>
      <div class="input">
        <app-round-input
          [isSearch]="true"
          [focused]="focused"
          [width]="width"
          [minWidth]="width"
          [fieldIcon]="!isFocus ? './assets/Search Normal (Search-Gray).svg' : null"
          [fieldIconPosition]="'left'"
          [placeholder]="'Search Smartpass'"
          [backgroundColor]="'#F0F2F5'"
          (focusEvent)="isFocus = $event"
          (ontextupdate)="search($event)"
        ></app-round-input>
      </div>
    </div>
    <div class="overlay-wrapper" *ngIf="isFocus">
      <div class="content">
        <div class="empty-state-no-search" *ngIf="!result.length">
          <img [src]="'./assets/emptyStates/Students Empty State.svg'" alt="empty-state">
          <div class="title">Search for students</div>
          <div class="subtitle">See previous passes, get quick insights, check permissions, and more...</div>
        </div>
        <div class="search-result" *ngIf="result.length">
          <div
            class="result-container"
            #opt
            *ngFor="let value of result"
            (mouseout)="opt.hovered = true"
            (mouseleave)="opt.hovered = false; opt.pressed = false"
            appCrossPointerEventTarget
            (pointerDownEvent)="opt.pressed = true"
            (pointerClickEvent)="goToUserPage(value); opt.pressed = false"
            [style.background-color]="opt.hovered ? opt.pressed ? '#EAEDF1' : '#F0F2F5' : 'transparent'"
          >
            <div class="value">
              <div class="avatar">
                <div *ngIf="value.profile_picture; else d" [ngStyle]="{'background': 'url(' + value.profile_picture + ') no-repeat left center/cover', width: '40px', height: '40px'}"></div>
                <ng-template #d>
                  <img width="40" height="40" [src]="'./assets/Avatar Default.svg' | resolveAsset" alt="Avatar">
                </ng-template>
              </div>
              <div class="title">{{ value.display_name }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
