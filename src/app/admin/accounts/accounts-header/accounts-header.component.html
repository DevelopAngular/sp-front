<div class="wrapper" #wrapper>
  <div class="accounts-header" [style.background-color]="darkTheme.getBackground('high', true)">
    <div class="selected" *ngIf="selectedUsers.length">
      <div class="selected-content">
        <div class="count">
          {{ selectedUsers.length }} Selected account{{selectedUsers.length === 0 || selectedUsers.length > 1 ? 's' : ''}}
        </div>
        <div class="buttons">
          <app-gradient-button [size]="'medium'" [style.margin-right]="'13px'" [gradient]="'#7F879D, #7F879D'" (buttonClick)="openStatusPopup($event)">Edit Status</app-gradient-button>
          <app-gradient-button *ngIf="currentTab !== '_profile_student'" [size]="'medium'" [style.margin-right]="'13px'" [gradient]="'#7F879D, #7F879D'" (buttonClick)="openPermissions($event)">Edit Permissions</app-gradient-button>
          <app-gradient-button [size]="'medium'" [gradient]="'#1F195E, #1F195E'" (buttonClick)="clearData()">Done</app-gradient-button>
        </div>
      </div>

    </div>

    <div class="header-content">
      <div [ngSwitch]="currentTab">
        <div class="header-title" [style.color]="darkTheme.getColor({white: '#1E194F', dark: '#FFFFFF'})">
          <span>Accounts</span>
        </div>
      </div>

      <div class="header-buttons">
        <div class="ds-mx-10" *ngIf="currentTab !== ''">
          <app-round-input
            [minWidth]="'240px'"
            [width]="'240px'"
            [type]="'text'"
            [pending$]="pending$"
            [closeIcon]="true"
            [focused]="true"
            [forceFocused$]="forceFocus$"
            [placeholder]="'Search ' + getCountAccounts(accounts$ | async)"
            (ontextupdate)="search($event)"
            [isSearch]="true">
          </app-round-input>
        </div>

        <div class="buttons" *ngIf="!isMiniButtons; else squareButtons">
          <app-gradient-button
            *ngIf="showIntegrations$ | async"
            [gradient]="'#F4F4F4, #F4F4F4'"
            [leftIcon]="'./assets/Integrations (Navy).svg'"
            [size]="'medium'"
            [cursor]="'pointer'"
            [textColor]="'#1F194E'"
            (buttonClick)="openIntegrations()"
          >Integrations</app-gradient-button>

          <app-gradient-button
            [style.margin-left]="'15px'"
            [gradient]="'#1F195E, #1F195E'"
            [size]="'medium'"
            [cursor]="'pointer'"
            (buttonClick)="openEncounterPrevention()">
            <div class="button-content">
              <app-octagon [size]="28">
                <img class="value" height="17" [src]="'./assets/Walking One (White).svg' | resolveAsset">
              </app-octagon>
              <span class="text">
             <span>Encounter <br/>Prevention</span>
           </span>
            </div>
          </app-gradient-button>

          <app-gradient-button
            [style.margin-left]="'15px'"
            [size]="'medium'"
            [hoverColor]="'#00B476'"
            [cursor]="'pointer'"
            [leftIcon]="'./assets/Plus (White).svg'"
            (buttonClick)="addUser($event)">
            Add
          </app-gradient-button>
        </div>

        <ng-template #squareButtons>
          <div class="buttons">
            <app-square-button (buttonClick)="openIntegrations()" [backgroundColor]="'#F4F4F4'">
              <img width="28" [src]="'./assets/Integrations (Navy).svg' | resolveAsset">
            </app-square-button>

            <app-square-button
              style="margin-left: 10px"
              [backgroundColor]="'#1F195E'"
              (buttonClick)="openEncounterPrevention()">
              <div class="button-content">
                <app-octagon [size]="28">
                  <img class="value" height="17" [src]="'./assets/Walking One (White).svg' | resolveAsset">
                </app-octagon>
              </div>
            </app-square-button>

            <app-square-button
              style="margin-left: 10px"
              (buttonClick)="addUser($event)">
              <img width="28" height="28" [src]="'./assets/Plus (White).svg' | resolveAsset">
            </app-square-button>
          </div>

        </ng-template>

      </div>
    </div>
    <mat-divider></mat-divider>
    <div class="tabs" #navButtonsContainer *ngIf="showTabs">
      <div
        class="tab"
        #tabRef
        [style.transition]="'transform .4s ease'"
        appCrossPointerEventTarget
        (pointerClickEvent)="tabRef.style.transform = 'unset'"
        (pointerDownEvent)="tabRef.style.transform = 'scale(.96)'"
        (pointerCancelEvent)="tabRef.style.transform = 'unset'"
        *ngFor="let tab of accountsButtons"
      >
        <app-tab-button
          [title]="tab.title"
          [icon_url]="tab.icon_id"
          [selected]="currentTab === tab.param"
          (buttonClick)="updateTab(tab.param); this.setCurrentUnderlinePos(this.tabRefs, this.navButtonsContainerRef);"
        ></app-tab-button>
      </div>
      <div class="selected-tab-pointer" #tabPointer [style.left]="pts" [style.background-color]="darkTheme.getColor({white: '#1F195E', dark: '#FFFFFF'})"></div>
    </div>

  </div>
</div>

<svg style="display: none;">
  <defs>
    <symbol id="Admin">
      <g stroke="none" stroke-width="1" fill="currentColor" fill-rule="evenodd">
        <g id="icons8-admin_settings_male" fill-rule="nonzero">
          <path d="M66.6666667,0 C43.1,0 33.3333333,15.1177602 33.3333333,33.3357447 C33.3333333,39.4695212 36.2630206,45.6304724 36.2630211,45.6304724 C35.0852433,46.3082992 33.1482639,48.4599271 33.6371528,52.2824258 C34.5482639,59.4107193 37.6383678,61.2259561 39.6050333,61.375967 C40.3550333,68.0264481 47.5,76.5335745 50,77.7725531 L50,88.884468 C49.9878222,88.9210095 49.9583,88.9458557 49.9457444,88.9821306 C48.1085389,89.2102138 46.4694167,90.2944311 45.6380222,91.9771417 L43.9019111,95.4713167 C30.19051,103.160062 0,101.253713 0,133.332128 L57.2482667,133.332128 L63.8888889,111.574909 L57.5629333,99.9963829 L66.5147556,99.9963829 L75.4882833,99.9963829 C77.3827278,95.3182667 80.05,91.0551972 83.3333333,87.3327057 L83.3333333,77.7725531 C85.8333333,76.5335745 92.9783,68.0264481 93.7283,61.375967 C95.6949667,61.2259561 98.7850667,59.4107193 99.6961778,52.2824258 C100.185072,48.4543712 98.2480889,46.3082992 97.0703111,45.6304724 C97.0703111,45.6304724 100,40.0640087 100,33.3357447 C100,19.84588 94.7055556,8.33393619 83.3333333,8.33393619 C83.3333333,8.33393619 79.3833333,0 66.6666667,0 Z M114.941406,83.3285105 C114.33585,83.3285105 113.82535,83.7863547 113.758678,84.3919541 L113.628472,85.6073198 C113.45625,87.1685438 112.275522,88.3994496 110.742189,88.7216951 C109.742189,88.9328215 108.768056,89.191868 107.8125,89.5030016 C106.323611,89.9863699 104.692967,89.5054351 103.765189,88.2442328 L103.038194,87.2567447 C102.677083,86.7678204 102.014322,86.6311772 101.486544,86.9312045 L98.5026056,88.6565848 C97.9748278,88.9621625 97.7698778,89.6093482 98.0143222,90.1649439 L98.5134556,91.3151994 C99.1412333,92.7486364 98.7414056,94.3995391 97.5802944,95.4496151 C96.8302944,96.121886 96.1204833,96.8372988 95.4427111,97.5873531 C94.3927056,98.7541041 92.7419278,99.1539608 91.3085944,98.5205817 L90.1584222,98.0214122 C89.6028667,97.7769501 88.9557278,97.9819149 88.6501722,98.5097309 L86.9249111,101.493886 C86.6193556,102.021702 86.7615444,102.684511 87.2504333,103.045648 L88.2378444,103.7727 C89.4989611,104.700545 89.9798611,106.325746 89.4965278,107.820299 C89.1854167,108.775924 88.9208333,109.750127 88.7152778,110.7502 C88.3930556,112.283644 87.1622389,113.464457 85.6011278,113.636692 L84.5811611,113.745205 C83.7922722,113.822989 83.3333333,114.33327 83.3333333,114.938869 L83.3333333,118.37879 C83.3333333,118.98439 83.7911444,119.494927 84.3967,119.561598 L85.6119778,119.702669 C87.1730889,119.874904 88.4039056,121.044867 88.7261278,122.578311 C88.9372389,123.578383 89.1962667,124.563438 89.5073778,125.519062 C89.9907111,127.008059 89.5098111,128.638821 88.2487,129.566666 L87.2612833,130.282863 C86.7723944,130.644 86.6357611,131.31766 86.9357667,131.845476 L88.6610222,134.81878 C88.9665778,135.346596 89.6137167,135.562411 90.1692722,135.317949 L91.3194444,134.81878 C92.7527778,134.190956 94.4035611,134.590813 95.4535611,135.752008 C96.1257833,136.502062 96.8411444,137.211919 97.5911444,137.889746 C98.7578111,138.939828 99.1576389,140.590725 98.5243056,142.024162 L98.0251722,143.163567 C97.7807278,143.719162 97.9856778,144.377199 98.5134556,144.682776 L101.497394,146.397306 C102.025172,146.702884 102.687933,146.56069 103.049044,146.071766 L103.776044,145.084278 C104.703822,143.823075 106.328906,143.352991 107.82335,143.83636 C108.778906,144.147493 109.753039,144.401245 110.753039,144.606815 C112.286372,144.929061 113.4671,146.165523 113.639322,147.721191 L113.769533,148.947407 C113.825089,149.547451 114.33585,150 114.941406,150 L118.381078,150 C118.986633,150 119.497133,149.542156 119.5638,148.936556 L119.704861,147.721191 C119.877083,146.159967 121.046961,144.929061 122.580294,144.606815 C123.580294,144.395689 124.565278,144.136643 125.520833,143.825509 C127.009722,143.342141 128.640367,143.823075 129.568144,145.084278 L130.284289,146.071766 C130.6454,146.56069 131.319011,146.697333 131.846789,146.397306 L134.819878,144.671926 C135.347656,144.366348 135.563456,143.719162 135.319011,143.163567 L134.819878,142.013311 C134.1921,140.579874 134.591928,138.928971 135.753039,137.878895 C136.503039,137.206625 137.212844,136.491212 137.890622,135.741157 C138.940628,134.574406 140.591406,134.17455 142.024739,134.807929 L143.164061,135.307098 C143.719617,135.55156 144.377606,135.346596 144.683161,134.81878 L146.397567,131.834625 C146.703122,131.306809 146.560939,130.644 146.07205,130.282863 L145.084633,129.55581 C143.823522,128.627965 143.353472,127.002764 143.836806,125.508212 C144.147917,124.552587 144.40165,123.578383 144.607206,122.578311 C144.929428,121.044867 146.171094,119.864053 147.732206,119.691819 C148.17665,119.641815 148.591928,119.60049 148.947483,119.561598 C149.547483,119.506039 150,118.995241 150,118.389641 L150,114.938869 C150,114.33327 149.542189,113.822733 148.936633,113.756056 L147.721356,113.625841 C146.160244,113.453606 144.929428,112.272793 144.607206,110.739349 C144.396094,109.739277 144.137067,108.765073 143.825956,107.809448 C143.342622,106.320451 143.823522,104.689689 145.084633,103.761844 L146.07205,103.034797 C146.560939,102.67366 146.697572,102.010851 146.397567,101.483035 L144.672311,98.4988801 C144.366756,97.9710642 143.719617,97.7660993 143.164061,98.0105615 L142.013889,98.5097309 C140.580556,99.1375541 138.929772,98.7376974 137.879772,97.5765023 C137.20755,96.826448 136.492189,96.1165856 135.742189,95.4387643 C134.575522,94.3886828 134.175694,92.7377856 134.809028,91.3043486 L135.308161,90.1540931 C135.552606,89.5984974 135.347656,88.9513117 134.819878,88.645734 L131.835939,86.9203481 C131.308161,86.6147705 130.6454,86.7569696 130.284289,87.2458939 L129.557289,88.2333764 C128.629511,89.4945843 127.004428,89.9755191 125.509983,89.4921508 C124.554428,89.1810172 123.580294,88.9164147 122.580294,88.7108443 C121.046961,88.3885988 119.866233,87.1521371 119.694011,85.596469 L119.5638,84.3811033 C119.508244,83.7866159 118.997483,83.3285105 118.391928,83.3285105 L114.941406,83.3285105 Z M116.666667,99.9963829 C125.872222,99.9963829 133.333333,107.458034 133.333333,116.664255 C133.333333,125.870477 125.872222,133.332128 116.666667,133.332128 C107.461111,133.332128 100,125.870477 100,116.664255 C100,107.458034 107.461111,99.9963829 116.666667,99.9963829 Z M116.666667,111.108298 C113.6,111.108298 111.111111,113.597367 111.111111,116.664255 C111.111111,119.731144 113.6,122.220213 116.666667,122.220213 C119.733333,122.220213 122.222222,119.731144 122.222222,116.664255 C122.222222,113.597367 119.733333,111.108298 116.666667,111.108298 Z" id="Shape"></path>
        </g>
      </g>
    </symbol>
    <symbol id="Teacher">
      <g stroke="none" stroke-width="1" fill="currentColor" fill-rule="evenodd">
        <g id="icons8-tuition" fill-rule="nonzero">
          <path d="M18.75,0 C8.39466094,0 0,8.39466094 0,18.75 C-5.55111512e-15,29.1053391 8.39466094,37.5 18.75,37.5 C29.1053391,37.5 37.5,29.1053391 37.5,18.75 C37.5,8.39466094 29.1053391,0 18.75,0 Z M50.0835232,6.25 L50.0835232,18.7499163 L131.19346,18.7499163 L131.19346,87.499456 L62.561975,87.499456 L56.3227491,87.499456 L50.0835232,87.499456 L50.0835232,92.6996149 C49.9721589,93.3745569 49.9721589,94.0632343 50.0835232,94.7381763 L50.0835232,99.9993723 L56.3227491,99.9993723 L62.561975,99.9993723 L143.671912,99.9993723 C145.922001,100.031249 148.014921,98.8470344 149.149252,96.9001877 C150.283583,94.9533411 150.283583,92.5454872 149.149252,90.5986406 C148.014921,88.6517939 145.922001,87.4675794 143.671912,87.499456 L143.671912,12.4999582 C143.671567,9.04834454 140.878373,6.25034511 137.432686,6.25 L50.0835232,6.25 Z M74.8060518,37.5031952 C73.6100575,37.541364 72.4502062,37.9225264 71.4645313,38.6013205 L54.3057313,50.0462229 L49.9520022,50.0462229 L12.4880006,50.0462229 C5.58838025,50.0462229 0,55.6373873 0,62.540445 L0,143.545466 C0,147.106319 2.89224028,150 6.45132044,150 C9.84805659,150 12.6656617,147.358447 12.8904457,143.972512 L15.6221958,102.939244 C15.7345879,101.302501 17.0898288,100.023111 18.7320008,100.023111 C20.3741729,100.023111 21.7294138,101.296548 21.8418058,102.927044 L24.5735559,143.972512 C24.7983399,147.364694 27.6159451,150 31.0126812,150 C34.5717614,150 37.4640017,147.106319 37.4640017,143.545466 L37.4640017,68.7875561 C37.4640017,65.3391508 40.2613138,62.540445 43.7080019,62.540445 L56.1960025,62.540445 C57.4287051,62.5403569 58.633807,62.1752497 59.6594745,61.491124 L78.3914753,48.9969019 C80.7487661,47.4745085 81.8017916,44.5660465 80.9658796,41.8863834 C80.1299676,39.2067203 77.6103728,37.4138361 74.8060518,37.5031952 Z" id="Shape"></path>
        </g>
      </g>
    </symbol>
    <symbol id="Student">
      <g stroke="none" stroke-width="1" fill="currentColor" fill-rule="evenodd">
        <g id="icons8-student" transform="translate(0.000000, 6.000000)" fill-rule="nonzero">
          <path d="M75,0 C74.129466,0.00169485066 73.274446,0.237380044 72.51953,0.683738426 L72.5,0.643518519 L2.5,41.8287037 L2.5097656,41.8789785 C0.960223868,42.7953216 0.00342512413,44.4934567 0,46.3333333 C0.00432031302,48.5489916 1.38498983,50.5132814 3.4277344,51.209999 L3.4277344,51.2200534 L25,60.4404639 L25,50.3352154 C25,46.8911043 26.668125,43.6783371 29.453125,41.7683736 C31.073125,40.6563736 46.14,30.8888889 75,30.8888889 C103.86,30.8888889 118.926875,40.6512254 120.546875,41.7683736 C123.331875,43.6783365 125,46.8911043 125,50.3352154 L125,60.4404639 L135,56.1670994 L135,109.538919 C132.02183,111.321563 130,114.603204 130,118.407407 C130,124.096111 140,139 140,139 C140,139 150,124.096111 150,118.407407 C150,114.603204 147.97817,111.321563 145,109.538919 L145,51.8937349 L146.572265,51.2200534 L146.572265,51.209999 C148.61501,50.5132816 149.99568,48.5489918 150,46.3333333 C149.996575,44.4934568 149.039777,42.7953217 147.490235,41.8789785 L147.5,41.8287037 L77.5,0.643518519 L77.48047,0.683738426 C76.725554,0.237380044 75.870534,0.00169485066 75,0 Z M75,41.1851852 C48.335,41.1851852 35,50.3352154 35,50.3352154 L35,61.7777778 L35,66.9259259 C29.534686,66.9259259 25,71.594972 25,77.2222222 L25,82.3703704 C25,90.1783968 28.3209885,95.737815 31.7089845,98.7901469 C33.606262,100.499456 34.287683,100.445627 35.673828,101.042462 C36.2521545,103.698304 37.680112,109.304287 42.089844,116.114875 C47.6398895,124.686609 58.027675,133.520466 74.23828,133.801575 C74.4905718,133.838291 74.7452201,133.855099 75,133.851852 C75.2287136,133.851209 75.4571148,133.834411 75.683595,133.801575 C91.94047,133.548544 102.35092,124.700802 107.910155,116.114875 C112.31989,109.304287 113.747845,103.698304 114.32617,101.042462 C115.712315,100.445627 116.39374,100.499456 118.291015,98.7901469 C121.67901,95.737815 125,90.1783968 125,82.3703704 L125,77.2222222 C125,71.594972 120.465315,66.9259259 115,66.9259259 L115,61.7777778 L115,50.3352154 C115,50.3352154 101.665,41.1851852 75,41.1851852 Z M75,64.6434481 C88.198895,64.6434481 98.10919,66.8828823 104.77539,69.1480777 C104.919875,71.6991241 105,74.3871216 105,77.2222222 L115,77.2222222 L115,82.3703704 C115,87.4327143 113.32099,89.5955183 111.708985,91.047816 C110.09698,92.5001138 108.78906,92.817492 108.78906,92.817492 L105.60547,93.6419988 L105.06836,96.9701993 C105.06836,96.9701993 103.949805,103.669932 99.589845,110.403643 C95.22988,117.13737 88.333335,123.555556 75,123.555556 C61.666665,123.555556 54.77012,117.137364 50.410155,110.403643 C46.050196,103.669927 44.9316405,96.9701942 44.9316405,96.9701993 L44.394531,93.6419988 L41.2109375,92.817492 C41.2109375,92.817492 39.9030195,92.5001086 38.2910155,91.047816 C36.6790115,89.5955183 35,87.4327143 35,82.3703704 L35,77.2222222 L45,77.2222222 C45,73.927984 45.433569,71.2267661 46.1328125,68.8765901 C52.78273,66.7090653 62.339325,64.6434481 75,64.6434481 Z" id="Shape"></path>
        </g>
      </g>
    </symbol>
    <symbol id="Assistant">
      <g stroke="none" stroke-width="1" fill="currentColor" fill-rule="evenodd">
        <g id="icons8-check_in_desk" fill-rule="nonzero">
          <path d="M35.8694214,0 C26.8648148,2.89623398e-15 19.5651389,7.29970517 19.5651389,16.3043478 C19.5651389,25.3089905 26.8648148,32.6086957 35.8694214,32.6086957 C44.874028,32.6086957 52.1737039,25.3089905 52.1737039,16.3043478 C52.1737039,7.29970517 44.874028,2.89623398e-15 35.8694214,0 Z M128.166947,2.89623398e-15 C119.556851,0.00135029096 112.577327,6.98090244 112.575977,15.5910326 C112.577327,24.2011628 119.556851,31.1807149 128.166947,31.1820652 C136.777043,31.1807149 143.756567,24.2011628 143.757917,15.5910326 C143.756567,6.98090244 136.777043,0.00135029096 128.166947,2.89623398e-15 Z M32.6085649,45.6521739 C21.8020865,45.6521739 13.043426,54.4108696 13.043426,65.2173913 L13.043426,78.2608696 L6.52171298,78.2608696 C2.92172742,78.2608696 0,81.1826087 0,84.7826087 C0,88.3826087 2.92172742,91.3043478 6.52171298,91.3043478 L91.3039817,91.3043478 L91.3039817,78.2608696 L58.6954168,78.2608696 L58.6954168,65.2173913 C58.6954168,54.4108696 49.9367563,45.6521739 39.1302779,45.6521739 L32.6085649,45.6521739 Z M123.912547,45.6521739 C113.184524,45.6521739 104.347408,54.4893261 104.347408,65.2173913 L104.347408,97.826087 C104.323725,99.5711046 105.000341,101.25283 106.225957,102.495208 C107.451573,103.737585 109.123949,104.436978 110.869121,104.436991 L110.869121,144.382643 C110.869121,147.48047 113.388641,150 116.486455,150 C119.440791,150 121.8954,147.699861 122.091052,144.752035 L124.47301,102.526324 C124.570835,101.111107 125.745148,100.004243 127.173403,100.004243 C128.601658,100.004243 129.775971,101.117322 129.873797,102.539061 L132.255754,144.764778 C132.451406,147.706083 134.906016,150 137.860352,150 C140.958165,150 143.477686,147.48047 143.477686,144.382643 L143.477686,104.436991 C145.222857,104.436978 146.895234,103.737585 148.120849,102.495208 C149.346465,101.25283 150.023082,99.5711046 149.999399,97.826087 L149.999399,65.2173913 C149.999399,54.4893261 141.162282,45.6521739 130.43426,45.6521739 L123.912547,45.6521739 Z M55.4345603,104.347826 C53.6345676,104.347826 52.1737039,105.808696 52.1737039,107.608696 L52.1737039,110.869565 L39.1302779,110.869565 C35.5302923,110.869565 32.6085649,113.791304 32.6085649,117.391304 L32.6085649,143.478261 C32.6085649,147.078261 35.5302923,150 39.1302779,150 L84.7822688,150 C88.3822543,150 91.3039817,147.078261 91.3039817,143.478261 L91.3039817,117.391304 C91.3039817,113.791304 88.3822543,110.869565 84.7822688,110.869565 L71.7388428,110.869565 L71.7388428,107.608696 C71.7388428,105.808696 70.2779791,104.347826 68.4779863,104.347826 L55.4345603,104.347826 Z" id="Shape"></path>
        </g>
      </g>
    </symbol>
  </defs>
</svg>

