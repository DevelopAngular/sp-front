<div class="accounts-role-wrapper"  *ngIf="tabVisibility">
<!--{{initialSearchString}}-->
  <div class="card flex-start-between" style="width: 100%">
    <div style="display: flex;">

      <div class="mt mr pt pr">
        <app-back-button routerLink="/admin/accounts"></app-back-button>
      </div>
      <div class="mt mx pt px" [ngSwitch]="role">
        <div *ngSwitchCase="'_all'">
          <div class=" mr pr">

            <div class="card_header mb"><img [src]="'./assets/Settings (Navy).svg' | resolveAsset" alt=""><span>Accounts</span></div>
            <div class="card_header" [style.font-size]="'16px'">
              <span [style.padding-left]="'0px'">Total Accounts: {{(accounts$ | async).total}} Accounts</span>
            </div>
            <div class="card_title">
              <span>G Suite: 2,237  Accounts</span>
            </div>
            <div class="card_title">
              <span>Alternative: 23 Accounts</span>
            </div>
          </div>
          <!--<p class="card_title mr pr">-->
          <!--<span>{{userAmount| async}} user{{(userAmount | async) > 1 ? 's' : ''}} </span><br>-->
          <!--An administrator has a high-level look at the school, configures passes, and views/generates reports.-->
          <!--</p>-->
        </div>
        <div *ngSwitchCase="'_profile_admin'">
          <div class="card_header"><img [src]="'./assets/Admin (Navy).svg' | resolveAsset" alt=""><span>Administrators</span></div>
          <p class="card_title mr pr">
            <span>{{userAmount| async}} user{{(userAmount | async) > 1 ? 's' : ''}} </span><br>
            An administrator has a high-level look at the school, configures passes, and views/generates reports.
          </p>
        </div>
        <div *ngSwitchCase="'_profile_teacher'">
          <div class="card_header"><img [src]="'./assets/Teacher (Navy).svg' | resolveAsset" alt=""><span>Teachers</span></div>
          <p class="card_title mr pr">
            <span>{{userAmount| async}} user{{(userAmount | async) > 1 ? 's' : ''}} </span><br>
            A teacher has a room or multiple rooms where students can create passes to.
            A teacher can manage passes in his/her room and create passes.
          </p>
        </div>
        <div *ngSwitchCase="'_profile_student'">
          <div class="card_header"><img [src]="'./assets/Student (Navy).svg' | resolveAsset" alt=""><span>Students</span></div>
          <p class="card_title mr pr">
            <span>{{userAmount| async}} user{{(userAmount | async) > 1 ? 's' : ''}} </span><br>
            A student can create passes, schedule passes for the future,
            and send pass requests to teachers.
          </p>
        </div>
        <div *ngSwitchCase="'staff_secretary'">
          <div class="card_header"><img [src]="'./assets/Secretary (Navy).svg' | resolveAsset" alt=""><span>Secretaries & Substitutes</span></div>
          <p class="card_title mr pr">
            <span>{{userAmount| async}} user{{(userAmount | async) > 1 ? 's' : ''}} </span><br>
            A secretary or substitute teacher acts as a certain teacher when they sign-in.
            They can manage passes in his/her room and create passes as that teacher.
          </p>
        </div>
      </div>
    </div>
    <div class="ml pl">
      <div class="flex-start-end">
        <ng-container *ngIf="role === '_all'; else roleProfile">
          <app-gradient-button
          [border]="'1px solid #eee'"
          [gradient]="'#FFFFFF, #FFFFFF'"
          [hoverColor]="'#F5F5F5'"
          [cursor]="'pointer'"
          [textColor]="'#134482'"
          [minHeight]="'74px'"
          [width]="'147px'"
          [fontWeight]="'900'"
          [fontSize]="'17px'"
          [textWidth]="'69%'"
          (buttonClick)="openDialog('gsuite')"
          >
            <div class="flex-center-center mx px">
              <div [style.margin-right]="'15px'">
                <img src="assets/google/google_logo.svg" alt="google-icon" width="31" height="31">
              </div>
              <div>
                <span>G Suite Settings</span>
              </div>
            </div>
          </app-gradient-button>
        </ng-container>

        <ng-template #roleProfile>

          <app-gradient-button
            [cursor]="'pointer'"
            [minHeight]="'43px'"
            [width]="'225px'"
            [fontSize]="'14px'"
            [fontWeight]="'bold'"
            (buttonClick)="addUser()">
            <div class="flex-center-center">
              <img [src]="'./assets/Create (White).png'" width="20" class="pr" alt="Create (White).png"><span>Add User to Profile</span>
            </div>
          </app-gradient-button>
        </ng-template>
      </div>
      <div class="ml pl pt">
        <app-round-input
          [initialValue]="initialSearchString"
          [minWidth]="'280px'"
          [type]="'text'"
          [placeholder]="'Search users'"
          (ontextupdate)="findRelevantAccounts($event)">
        </app-round-input>
      </div>
    </div>
  </div>

  <div class="table">
    <div *ngIf="!userList.length" class="loading-theme spinner flex-center-center">
      <mat-spinner *ngIf="!placeholder" [color]="'accent'"></mat-spinner>
      <h1 [style.color]="'#666666'" *ngIf="placeholder">No matches found.</h1>
    </div>
    <div *ngIf="userList.length" class="">
      <div class="tool-panel">

        <div *ngIf="selectedUsers.length" class="flex-center-start">
          <div class="m px" [style.min-width]="'150px'" [style.font-weight]="'bold'" [style.color]="'#1F195E'">
            <p class="">{{selectedUsers.length}} Profile<span *ngIf="selectedUsers.length > 1">s</span> Selected:</p>
          </div>
          <!--<div class="my py" *ngIf="role === 'staff_secretary'">-->
          <!--<app-gradient-button-->
          <!--[disabled]="!selectedUsers.length"-->
          <!--[cursor]="'pointer'"-->
          <!--[minHeight]="'32px'"-->
          <!--[width]="'295px'"-->
          <!--[fontSize]="'14px'"-->
          <!--[fontWeight]="400"-->
          <!--[gradient]="'#13BF9E, #00D99B'"-->
          <!--(buttonClick)="openDialog('teacher')">-->
          <!--<span>Add/Modify Acting Teacher Account</span>-->
          <!--</app-gradient-button>-->
          <!--</div>-->
          <!--<div class="m p" *ngIf="role === '_profile_teacher'">-->
          <!--<app-gradient-button-->

          <!--[disabled]="!selectedUsers.length"-->
          <!--[cursor]="'pointer'"-->
          <!--[minHeight]="'32px'"-->
          <!--[width]="'185px'"-->
          <!--[fontSize]="'14px'"-->
          <!--[fontWeight]="400"-->
          <!--[gradient]="'#022F68, #2F66AB'"-->
          <!--(buttonClick)="openDialog('rooms')">-->
          <!--<span>Add/Modify Rooms</span>-->
          <!--</app-gradient-button>-->
          <!--</div>-->
          <!--<div class="my py"  *ngIf="role !== 'hallpass_student'">-->
            <!--<app-gradient-button-->
              <!--[disabled]="!selectedUsers.length"-->
              <!--[cursor]="'pointer'"-->
              <!--[minHeight]="'32px'"-->
              <!--[width]="'215px'"-->
              <!--[fontSize]="'14px'"-->
              <!--[fontWeight]="400"-->
              <!--[gradient]="'#0B9FC1, #00C0C7'"-->
              <!--(buttonClick)="openDialog('restrictions')">-->
              <!--<span>Add/Modify Restrictions</span>-->
            <!--</app-gradient-button>-->
          <!--</div>-->



          <div class="p"  *ngIf="role !== '_profile_student'">
            <app-gradient-button
              [disabled]="!selectedUsers.length"
              [cursor]="'pointer'"
              [minHeight]="'32px'"
              [width]="'215px'"
              [fontSize]="'14px'"
              [fontWeight]="700"
              [gradient]="'#FFFFFF, #FFFFFF'"
              [textColor]="'#1F195E'"
              (buttonClick)="showProfileCard(selectedUsers[0], true)">
              <span>Bulk Permissions</span>
            </app-gradient-button>
          </div>

          <div class="p">
            <app-gradient-button
              [disabled]="!selectedUsers.length"
              [cursor]="'pointer'"
              [minHeight]="'32px'"
              [width]="'215px'"
              [fontSize]="'14px'"
              [fontWeight]="700"
              [gradient]="'#001115, #033294'"
              (buttonClick)="openDialog('restrictions')">
              <span>Disable sign-in</span>
            </app-gradient-button>
          </div>

          <div class="p" #eventTarget  [style.opacity]="consentMenuOpened ? '.5' : '1'">
            <app-gradient-button
              [disabled]="!selectedUsers.length"
              [cursor]="'pointer'"
              [minHeight]="'32px'"
              [width]="'280px'"
              [fontSize]="'14px'"
              [fontWeight]="700"
              [gradient]="'#DA2370, #FB434A'"
              [hoverColor]="'#DA2370'"
              (buttonClick)="openDialog('remove', eventTarget)">
              <span>Delete Account & Data</span>
            </app-gradient-button>
          </div>
        </div>
      </div>
      <!--<pre>{{userList| json}}</pre>-->
      <div class="column-settings">
        <img draggable="false" width="20" [src]="'./assets/Options (Navy).svg ' | resolveAsset" alt="Gear (Blue).png" (click)="showColumnSettings($event)">
      </div>
      <app-data-table
        class="my"
        [data]="userList"
        [displayedColumns]="dataTableHeadersToDisplay"
        (selectedCell)="findProfileByRole($event)"
        (selectedRow)="showProfileCard($event)"
        (selectedUsers)="showSelected($event)">
      </app-data-table>
    </div>
  </div>
</div>
